-- 1. project
CREATE TABLE IF NOT EXISTS PROJECT (
    PROJECT_ID BIGINT PRIMARY KEY,
    PROJECT_KEY VARCHAR(50),
    TITLE VARCHAR(255),
    DESCRIPTION TEXT
);

-- 2. 빌드 테이블 생성
CREATE TABLE IF NOT EXISTS BUILD (
    BUILD_ID BIGINT PRIMARY KEY,
    PROJECT_ID BIGINT NOT NULL,
    BUILD_TITLE VARCHAR(500) NOT NULL,
    BUILD_TYPE VARCHAR(50) NOT NULL DEFAULT 'CHAIN',
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 프로젝트 관리 테이블 스키마 (H2 Database) - 대문자 축약
CREATE TABLE IF NOT EXISTS PROJMGMT (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    BIZDIV VARCHAR(100) NOT NULL COMMENT '업무구분',
    BIZMGR VARCHAR(50) COMMENT '업무담당자',
    CONFIG VARCHAR(10) COMMENT '형상',
    DEV VARCHAR(10) COMMENT '개발',
    OPER VARCHAR(10) COMMENT '운영',
    STATUS VARCHAR(50) COMMENT '상태',
    BITBUCKETNAME VARCHAR(100) COMMENT 'BitbucketName',
    BITBUCKETKEY VARCHAR(50) COMMENT 'BitbucketKey',
    BITBUCKETDESC VARCHAR(250) COMMENT 'BitbucketDescription',
    BAMBOONAME VARCHAR(100) COMMENT 'BambooName',
    BAMBOOKEY VARCHAR(50) COMMENT 'BambooKey',
    BAMBOODESC VARCHAR(250) COMMENT 'BambooDescription',
    DEPLOYMGR VARCHAR(200) COMMENT '배포담당자',
    CREATEDAT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '생성일시',
    UPDATEDAT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일시'
);

-- 업무 리스크 평가 테이블 스키마 (H2 Database)
CREATE TABLE IF NOT EXISTS BUSINESS_RISK (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    GUBUN VARCHAR(50) NOT NULL COMMENT '구분',
    BUSINESS VARCHAR(100) NOT NULL COMMENT '업무',
    SYSTEM VARCHAR(100) COMMENT '시스템',
    DETAIL_BUSINESS VARCHAR(200) COMMENT '상세업무',
    DEPT VARCHAR(100) COMMENT '담당부서',
    OPER_DEPT VARCHAR(100) COMMENT '운영담당부서',
    CONFIG CHAR(10) COMMENT '형상',
    DEV CHAR(10) COMMENT '개발',
    OPER CHAR(10) COMMENT '운영',
    REMARKS VARCHAR(500) COMMENT '비고',
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '생성일시',
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일시'
);